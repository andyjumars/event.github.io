<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>事件綁定兼容</title>
</head>
<body>
	<button id="btn">安安</button>
	<script type="text/javascript">
		//DoM2級事件處理程序 addEventListener() IE8不支持,IE attachEvent()

		//arrachEvent() 內部的this指向了window,我們要對this的指向也做兼容
		var btn = document.getElementById('btn');

		addEvent(btn,'click',function(){
			console.log(this.innerHTML)
		})

		//全瀏覽器 事件處理程序兼容性代碼
		function addEvent(target,eventType,handler){
			if(target.addEventListener){
				//chrome ff safari
				target.addEventListener(eventType,handler,false);
			}else{
				target.attachEvent('on' + eventType,function(){
					handler.call(target);
				});
			}
		}

	</script>
</body>
</html>